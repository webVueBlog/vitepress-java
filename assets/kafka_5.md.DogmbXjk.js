import{_ as a,c as s,o as e,a8 as n}from"./chunks/framework.DDO5B0CJ.js";const t="/vitepress-java/assets/img_219.CkS-9Ejm.png",p="/vitepress-java/assets/img_220.WRw0FIkZ.png",i="/vitepress-java/assets/img_221.CZu-JNlj.png",r="/vitepress-java/assets/img_222.pv0k73MV.png",o="/vitepress-java/assets/img_223.C1fY3tPn.png",l="/vitepress-java/assets/img_224.n0e_HQL7.png",_="/vitepress-java/assets/img_225.sibsrkY0.png",C=JSON.parse('{"title":"Kafka为什么快之零拷贝技术-sendfile + DMA gather copy）","description":"","frontmatter":{},"headers":[],"relativePath":"kafka/5.md","filePath":"kafka/5.md"}'),c={name:"kafka/5.md"},g=n('<h1 id="kafka为什么快之零拷贝技术-sendfile-dma-gather-copy" tabindex="-1">Kafka为什么快之零拷贝技术-sendfile + DMA gather copy） <a class="header-anchor" href="#kafka为什么快之零拷贝技术-sendfile-dma-gather-copy" aria-label="Permalink to &quot;Kafka为什么快之零拷贝技术-sendfile + DMA gather copy）&quot;">​</a></h1><p>从linux 2.4内核版本开始，对sendfile()函数进行了改进。</p><p>在DMA拷贝数据的过程中，引入了gather操作，这个改进的好处是可以省去，一步CPU的数据拷贝过程，</p><p><img src="'+t+'" alt="img_219.png" loading="lazy"></p><p><img src="'+p+'" alt="img_220.png" loading="lazy"></p><p><img src="'+i+'" alt="img_221.png" loading="lazy"></p><p><img src="'+r+'" alt="img_222.png" loading="lazy"></p><p><img src="'+o+'" alt="img_223.png" loading="lazy"></p><p><img src="'+l+'" alt="img_224.png" loading="lazy"></p><p><img src="'+_+`" alt="img_225.png" loading="lazy"></p><p>零拷贝，指的是没有CPU的数据拷贝过程，并不是说没有数据的拷贝过程，</p><p>改进主要是linux内核的改进</p><p>代码主要是:</p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>// 1. 用户态将数据从用户空间拷贝到内核空间</span></span>
<span class="line"><span>destChannel.transferFrom(srcChannel, position, count);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div>`,14),m=[g];function d(h,f,v,k,u,y){return e(),s("div",null,m)}const j=a(c,[["render",d]]);export{C as __pageData,j as default};
