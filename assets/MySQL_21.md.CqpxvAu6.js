import{_ as s,c as a,o as e,a8 as n}from"./chunks/framework.DDO5B0CJ.js";const p="/vitepress-java/assets/img_112.ssqObuDp.png",r="/vitepress-java/assets/img_113.B2Dx9m5O.png",i="/vitepress-java/assets/img_114.BZsjeJSZ.png",t="/vitepress-java/assets/img_115.CcBpsFao.png",o="data:image/png;base64,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",l="/vitepress-java/assets/img_117.Be-jo_3Z.png",c="/vitepress-java/assets/img_118.CA_cMYWp.png",d="/vitepress-java/assets/img_119.CcNpT1I1.png",x=JSON.parse('{"title":"第 21 章 创建和操纵表","description":"","frontmatter":{},"headers":[],"relativePath":"MySQL/21.md","filePath":"MySQL/21.md"}'),h={name:"MySQL/21.md"},g=n('<h1 id="第-21-章-创建和操纵表" tabindex="-1">第 21 章 创建和操纵表 <a class="header-anchor" href="#第-21-章-创建和操纵表" aria-label="Permalink to &quot;第 21 章 创建和操纵表&quot;">​</a></h1><p>MySQL不仅用于表数据操纵，而且还可以用来执行数据库和表的所 有操作，包括表本身的创建和处理。</p><p>为利用CREATE TABLE创建表，必须给出下列信息</p><p><img src="'+p+'" alt="img_112.png" loading="lazy"></p><p>NULL值就是没有值或缺值。允许NULL值的列也允许在 插入行时不给出该列的值。不允许NULL值的列不接受该列没有值的行， 换句话说，在插入或更新行时，该列必须有值。</p><p>每个表列或者是NULL列，或者是NOT NULL列，这种状态在创建时由 表的定义规定。</p><p><img src="'+r+'" alt="img_113.png" loading="lazy"></p><p><img src="'+i+'" alt="img_114.png" loading="lazy"></p><blockquote><p>理解NULL 不要把NULL值与空串相混淆。NULL值是没有值， 它不是空串。如果指定&#39;&#39;（两个单引号，其间没有字符），这 在NOT NULL列中是允许的。空串是一个有效的值，它不是无 值。NULL值用关键字NULL而不是空串指定。</p></blockquote><p>主键值必须唯一。即，表中的每个行必须具有唯一的主 键值。如果主键使用单个列，则它的值必须唯一。如果使用多个列，则 这些列的组合值必须唯一。</p><p><img src="'+t+'" alt="img_115.png" loading="lazy"></p><p>主键中只能使用不允许NULL值的列。允许NULL值的 列不能作为唯一标识。</p><h2 id="使用auto-increment" tabindex="-1">使用AUTO_INCREMENT <a class="header-anchor" href="#使用auto-increment" aria-label="Permalink to &quot;使用AUTO_INCREMENT&quot;">​</a></h2><p>每个表只允许一个AUTO_INCREMENT列，而且它必须被索引</p><p>那么，如何在使用AUTO_INCREMENT列时获得这个值呢？可使 用last_insert_id()函数获得这个值，如下所示：</p><p><img src="'+o+'" alt="img_116.png" loading="lazy"></p><p>此语句返回最后一个AUTO_INCREMENT值，然后可以将它用于 后续的MySQL语句</p><h2 id="指定默认值" tabindex="-1">指定默认值 <a class="header-anchor" href="#指定默认值" aria-label="Permalink to &quot;指定默认值&quot;">​</a></h2><p>如果在插入行时没有给出值，MySQL允许指定此时使用的默认值。 默认值用CREATE TABLE语句的列定义中的DEFAULT关键字指定。</p><blockquote><p>不允许函数 与大多数DBMS不一样，MySQL不允许使用函 数作为默认值，它只支持常量。</p></blockquote><p>使用默认值而不是NULL值 许多数据库开发人员使用默认 值而不是NULL列，特别是对用于计算或数据分组的列更是如 此。</p><h2 id="引擎类型" tabindex="-1">引擎类型 <a class="header-anchor" href="#引擎类型" aria-label="Permalink to &quot;引擎类型&quot;">​</a></h2><p>迄今为止使用的CREATE TABLE语句全都以 ENGINE=InnoDB语句结束</p><p>为什么要发行多种引擎呢？因为它们具有各自不同的功能和特性， 为不同的任务选择正确的引擎能获得良好的功能和灵活性。</p><p>当然，你完全可以忽略这些数据库引擎。如果省略ENGINE=语句，则 使用默认引擎（很可能是MyISAM），多数SQL语句都会默认使用它。但并 不是所有语句都默认使用它，这就是为什么ENGINE=语句很重要的原因</p><p>InnoDB是一个可靠的事务处理引擎，它不支持全文 本搜索；</p><p>MEMORY在功能等同于MyISAM，但由于数据存储在内存（不是磁盘） 中，速度很快</p><p>MyISAM是一个性能极高的引擎，它支持全文本搜索，但不支持事务处理。</p><p>引擎类型可以混用。除productnotes表使用MyISAM外</p><p>外键不能跨引擎 混用引擎类型有一个大缺陷。外键不能跨引擎，即使用一 个引擎的表不能引用具有使用不同引擎的表的外键。</p><p>为更新表定义，可使用ALTER TABLE语句。但是，理想状态下，当表 中存储数据以后，该表就不应该再被更新。在表的设计过程中需要花费 大量时间来考虑，以便后期不对该表进行大的改动。</p><p><img src="'+l+`" alt="img_117.png" loading="lazy"></p><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>alter table orderitems</span></span>
<span class="line"><span>add constraint fk_orderitems_orders</span></span>
<span class="line"><span>foreign key (order_num) references orders (order_num);</span></span>
<span class="line"><span></span></span>
<span class="line"><span>alter table orders</span></span>
<span class="line"><span>add constraint fk_orders_customers foreign key (customer_id)</span></span>
<span class="line"><span>references customers (customer_id);</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><blockquote><p>小心使用ALTER TABLE 使用ALTER TABLE要极为小心，应该 在进行改动前做一个完整的备份（模式和数据的备份）。数据 库表的更改不能撤销，如果增加了不需要的列，可能不能删 除它们。类似地，如果删除了不应该删除的列，可能会丢失 该列中的所有数据。</p></blockquote><p>删除表</p><p>删除表（删除整个表而不是其内容）非常简单</p><p><img src="`+c+'" alt="img_118.png" loading="lazy"></p><p><img src="'+d+'" alt="img_119.png" loading="lazy"></p>',38),m=[g];function b(L,N,A,E,u,v){return e(),a("div",null,m)}const T=s(h,[["render",b]]);export{x as __pageData,T as default};
