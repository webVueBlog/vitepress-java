import{_ as a,c as s,o as n,a8 as e}from"./chunks/framework.DDO5B0CJ.js";const m=JSON.parse('{"title":"Nacos 安装配置","description":"","frontmatter":{},"headers":[],"relativePath":"soft/Nacos.md","filePath":"soft/Nacos.md"}'),p={name:"soft/Nacos.md"},l=e(`<h1 id="nacos-安装配置" tabindex="-1">Nacos 安装配置 <a class="header-anchor" href="#nacos-安装配置" aria-label="Permalink to &quot;Nacos 安装配置&quot;">​</a></h1><p>Nacos (opens new window)是一款发现、配置和管理微服务的软件。</p><h2 id="_1-预备环境准备" tabindex="-1">1.预备环境准备 <a class="header-anchor" href="#_1-预备环境准备" aria-label="Permalink to &quot;1.预备环境准备&quot;">​</a></h2><p>Nacos 依赖 Java (opens new window)环境来运行。如果您是从代码开始构建并运行Nacos，还需要为此配置 Maven (opens new window)环境，请确保是在以下版本环境中安装使用:</p><ol><li>64 bit OS，支持 Linux/Unix/Mac/Windows，推荐选用 Linux/Unix/Mac。</li><li>64 bit JDK 1.8+；下载 (opens new window)&amp; 配置 (opens new window)。</li><li>Maven 3.2.x+；下载 (opens new window)&amp; 配置 (opens new window)。</li></ol><h2 id="_2-下载源码或者安装包" tabindex="-1">2.下载源码或者安装包 <a class="header-anchor" href="#_2-下载源码或者安装包" aria-label="Permalink to &quot;2.下载源码或者安装包&quot;">​</a></h2><p>你可以通过源码和发行包两种方式来获取 Nacos。</p><p>#从 Github 上下载源码方式</p><div class="language-angular2html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">angular2html</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>git clone https://github.com/alibaba/nacos.git</span></span>
<span class="line"><span>cd nacos/</span></span>
<span class="line"><span>mvn -Prelease-nacos clean install -U  </span></span>
<span class="line"><span>ls -al distribution/target/</span></span>
<span class="line"><span></span></span>
<span class="line"><span>// change the $version to your actual path</span></span>
<span class="line"><span>cd distribution/target/nacos-server-$version/nacos/bin</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br></div></div><h3 id="下载编译后压缩包方式" tabindex="-1">下载编译后压缩包方式 <a class="header-anchor" href="#下载编译后压缩包方式" aria-label="Permalink to &quot;下载编译后压缩包方式&quot;">​</a></h3><p>您可以从 最新稳定版本 (opens new window)下载 nacos-server-$version.zip 包。</p><div class="language-angular2html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">angular2html</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>unzip nacos-server-$version.zip 或者 tar -xvf nacos-server-$version.tar.gz</span></span>
<span class="line"><span>cd nacos/bin</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br></div></div><h2 id="_3-启动服务器" tabindex="-1">3.启动服务器 <a class="header-anchor" href="#_3-启动服务器" aria-label="Permalink to &quot;3.启动服务器&quot;">​</a></h2><h3 id="linux-unix-mac" tabindex="-1">Linux/Unix/Mac <a class="header-anchor" href="#linux-unix-mac" aria-label="Permalink to &quot;Linux/Unix/Mac&quot;">​</a></h3><p>启动命令(standalone代表着单机模式运行，非集群模式):</p><p><code>sh startup.sh -m standalone</code></p><h3 id="windows" tabindex="-1">Windows <a class="header-anchor" href="#windows" aria-label="Permalink to &quot;Windows&quot;">​</a></h3><p>启动命令：</p><p><code>cmd startup.cmd</code></p><p>或者双击startup.cmd运行文件。</p><h2 id="_4-服务注册-发现和配置管理" tabindex="-1">4.服务注册&amp;发现和配置管理 <a class="header-anchor" href="#_4-服务注册-发现和配置管理" aria-label="Permalink to &quot;4.服务注册&amp;发现和配置管理&quot;">​</a></h2><h3 id="服务注册" tabindex="-1">服务注册 <a class="header-anchor" href="#服务注册" aria-label="Permalink to &quot;服务注册&quot;">​</a></h3><div class="language-angular2html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">angular2html</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>curl -X POST &#39;http://127.0.0.1:8848/nacos/v1/ns/instance?serviceName=nacos.naming.serviceName&amp;ip=20.18.7.10&amp;port=8080&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="服务发现" tabindex="-1">服务发现 <a class="header-anchor" href="#服务发现" aria-label="Permalink to &quot;服务发现&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>curl -X GET &#39;http://127.0.0.1:8848/nacos/v1/ns/instances?serviceName=nacos.naming.serviceName&#39;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="发布配置" tabindex="-1">发布配置 <a class="header-anchor" href="#发布配置" aria-label="Permalink to &quot;发布配置&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>curl -X POST &quot;http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=nacos.cfg.dataId&amp;group=test&amp;content=HelloWorld&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h3 id="获取配置" tabindex="-1">获取配置 <a class="header-anchor" href="#获取配置" aria-label="Permalink to &quot;获取配置&quot;">​</a></h3><div class="language- vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang"></span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>curl -X GET &quot;http://127.0.0.1:8848/nacos/v1/cs/configs?dataId=nacos.cfg.dataId&amp;group=test&quot;</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br></div></div><h2 id="_5-关闭服务器" tabindex="-1">5.关闭服务器 <a class="header-anchor" href="#_5-关闭服务器" aria-label="Permalink to &quot;5.关闭服务器&quot;">​</a></h2><h3 id="linux-unix-mac-1" tabindex="-1">Linux/Unix/Mac <a class="header-anchor" href="#linux-unix-mac-1" aria-label="Permalink to &quot;Linux/Unix/Mac&quot;">​</a></h3><p><code>sh shutdown.sh</code></p><h3 id="windows-1" tabindex="-1">Windows <a class="header-anchor" href="#windows-1" aria-label="Permalink to &quot;Windows&quot;">​</a></h3><p><code>cmd shutdown.cmd</code></p><p>或者双击shutdown.cmd运行文件。</p><h3 id="nacos-install-sh" tabindex="-1">nacos-install.sh <a class="header-anchor" href="#nacos-install-sh" aria-label="Permalink to &quot;nacos-install.sh&quot;">​</a></h3><div class="language-angular2html vp-adaptive-theme line-numbers-mode"><button title="Copy Code" class="copy"></button><span class="lang">angular2html</span><pre class="shiki shiki-themes github-light github-dark vp-code"><code><span class="line"><span>#!/usr/bin/env bash</span></span>
<span class="line"><span></span></span>
<span class="line"><span>cat &lt;&lt; EOF</span></span>
<span class="line"><span></span></span>
<span class="line"><span>###################################################################################</span></span>
<span class="line"><span># 安装 nacos 脚本</span></span>
<span class="line"><span># 需要提前安装 jdk、maven</span></span>
<span class="line"><span># @system: 适用于所有 linux 发行版本。</span></span>
<span class="line"><span>###################################################################################</span></span>
<span class="line"><span></span></span>
<span class="line"><span>EOF</span></span>
<span class="line"><span></span></span>
<span class="line"><span>command -v java &gt; /dev/null 2&gt;&amp;1 || {</span></span>
<span class="line"><span>	printf &quot;\${RED}Require java but it&#39;s not installed.\${RESET}\\n&quot;;</span></span>
<span class="line"><span>	exit 1;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span>command -v mvn &gt; /dev/null 2&gt;&amp;1 || {</span></span>
<span class="line"><span>	printf &quot;\${RED}Require mvn but it&#39;s not installed.\${RESET}\\n&quot;;</span></span>
<span class="line"><span>	exit 1;</span></span>
<span class="line"><span>}</span></span>
<span class="line"><span></span></span>
<span class="line"><span>if [[ $# -lt 1 ]] || [[ $# -lt 2 ]]; then</span></span>
<span class="line"><span>	echo &quot;Usage: sh nacos-install.sh [version] [path]&quot;</span></span>
<span class="line"><span>	printf &quot;Example: sh nacos-install.sh 1.0.0 /opt/nacos\\n&quot;</span></span>
<span class="line"><span>fi</span></span>
<span class="line"><span></span></span>
<span class="line"><span>version=1.0.0</span></span>
<span class="line"><span>if [[ -n $1 ]]; then</span></span>
<span class="line"><span>	version=$1</span></span>
<span class="line"><span>fi</span></span>
<span class="line"><span></span></span>
<span class="line"><span>root=/opt/nacos</span></span>
<span class="line"><span>if [[ -n $2 ]]; then</span></span>
<span class="line"><span>	root=$2</span></span>
<span class="line"><span>fi</span></span>
<span class="line"><span></span></span>
<span class="line"><span>echo &quot;Current execution: install nacos \${version} to \${root}&quot;</span></span>
<span class="line"><span></span></span>
<span class="line"><span>echo -e &quot;\\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; download nacos&quot;</span></span>
<span class="line"><span>mkdir -p \${root}</span></span>
<span class="line"><span>curl -o \${root}/nacos-server-\${version}.zip https://github.com/alibaba/nacos/releases/download/\${version}/nacos-server-\${version}.zip</span></span>
<span class="line"><span></span></span>
<span class="line"><span>echo -e &quot;\\n&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; install nacos&quot;</span></span>
<span class="line"><span>unzip \${root}/nacos-server-\${version}.zip -d \${root}/nacos-server-\${version}</span></span>
<span class="line"><span>mv \${root}/nacos-server-\${version}/nacos/* \${root}/nacos-server-\${version}</span></span>
<span class="line"><span>rm -rf \${root}/nacos-server-\${version}/nacos</span></span></code></pre><div class="line-numbers-wrapper" aria-hidden="true"><span class="line-number">1</span><br><span class="line-number">2</span><br><span class="line-number">3</span><br><span class="line-number">4</span><br><span class="line-number">5</span><br><span class="line-number">6</span><br><span class="line-number">7</span><br><span class="line-number">8</span><br><span class="line-number">9</span><br><span class="line-number">10</span><br><span class="line-number">11</span><br><span class="line-number">12</span><br><span class="line-number">13</span><br><span class="line-number">14</span><br><span class="line-number">15</span><br><span class="line-number">16</span><br><span class="line-number">17</span><br><span class="line-number">18</span><br><span class="line-number">19</span><br><span class="line-number">20</span><br><span class="line-number">21</span><br><span class="line-number">22</span><br><span class="line-number">23</span><br><span class="line-number">24</span><br><span class="line-number">25</span><br><span class="line-number">26</span><br><span class="line-number">27</span><br><span class="line-number">28</span><br><span class="line-number">29</span><br><span class="line-number">30</span><br><span class="line-number">31</span><br><span class="line-number">32</span><br><span class="line-number">33</span><br><span class="line-number">34</span><br><span class="line-number">35</span><br><span class="line-number">36</span><br><span class="line-number">37</span><br><span class="line-number">38</span><br><span class="line-number">39</span><br><span class="line-number">40</span><br><span class="line-number">41</span><br><span class="line-number">42</span><br><span class="line-number">43</span><br><span class="line-number">44</span><br><span class="line-number">45</span><br><span class="line-number">46</span><br></div></div>`,37),i=[l];function r(t,c,o,u,d,b){return n(),s("div",null,i)}const v=a(p,[["render",r]]);export{m as __pageData,v as default};
